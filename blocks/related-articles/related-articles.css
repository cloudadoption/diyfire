/* Related articles block â€“ horizontal scroll with arrows, cards styling */

main .related-articles {
  width: 100%;
  max-width: var(--grid-container-width);
  margin: 0 auto;
  padding: var(--space-m) var(--content-padding-inline);
}

main .related-articles .related-articles-heading {
  margin: 0 0 var(--space-l);
}

main .related-articles .related-articles-slider {
  position: relative;
}

main .related-articles .related-articles-list {
  list-style: none;
  margin: 0;
  padding: var(--space-s) 0;
  display: flex;
  gap: var(--space-xl);
  overflow-x: auto;
  overscroll-behavior-x: contain;
  scroll-snap-type: x mandatory;
  scroll-padding-inline: var(--content-padding-inline);
  scrollbar-width: none;
}

main .related-articles .related-articles-list::-webkit-scrollbar {
  display: none;
}

/* Cards: 1 visible on mobile */
main .related-articles .related-articles-card {
  flex: 0 0 min(86%, 340px);
  scroll-snap-align: start;
  margin: 0;
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-lg);
  overflow: hidden;
  background: light-dark(var(--color-light), var(--color-slate-800));
  box-shadow: var(--shadow-card);
  transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
}

main .related-articles .related-articles-card-link {
  color: inherit;
  text-decoration: none;
  display: flex;
  flex-direction: column;
  height: 100%;
}

/* Hide green strip */
main .related-articles .related-articles-card-strip {
  display: none;
}

main .related-articles .related-articles-card-content {
  padding: var(--space-l);
  display: flex;
  flex-direction: column;
  gap: var(--space-s);
  height: 100%;
}

main .related-articles .related-articles-card h3 {
  margin: 0;
  font-size: var(--heading-font-size-s);
}

main .related-articles .related-articles-card-description {
  margin: 0;
  line-height: 1.4;
  color: light-dark(var(--color-gray-700), var(--color-slate-400));
}

main .related-articles .related-articles-card-date {
  margin: auto 0 0;
  font-size: var(--body-font-size-xs);
  color: var(--color-gray-500);
}

main .related-articles .related-articles-card:hover,
main .related-articles .related-articles-card:focus-within {
  transform: translateY(-5px);
  border-color: var(--color-accent);
  box-shadow: 0 12px 24px light-dark(rgb(0 0 0 / 10%), rgb(16 185 129 / 20%));
}

main .related-articles .related-articles-empty {
  margin: var(--space-m) 0 0;
}

/* Arrow controls */
main .related-articles .related-articles-controls {
  display: flex;
  justify-content: space-between;
  position: absolute;
  inset: 50% 0 auto;
  transform: translateY(-50%);
  pointer-events: none;
  z-index: 2;
}

main .related-articles .related-articles-arrow {
  border: 1px solid var(--color-border);
  background: light-dark(rgb(255 255 255 / 90%), rgb(30 41 59 / 85%));
  color: inherit;
  inline-size: 44px;
  block-size: 44px;
  border-radius: 999px;
  padding: 0;
  font-size: var(--body-font-size-xl);
  line-height: 1;
  box-shadow: var(--shadow-card);
  pointer-events: auto;
  cursor: pointer;
  transition: opacity 0.2s ease, transform 0.2s ease, border-color 0.2s ease;
}

main .related-articles .related-articles-arrow:hover {
  border-color: var(--color-accent);
}

main .related-articles .related-articles-arrow:disabled {
  opacity: 0.3;
  cursor: default;
}

main .related-articles .related-articles-arrow.is-hidden {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transform: scale(0.9);
}

/* Tablet: 2 visible */
@media (width >= 600px) {
  main .related-articles .related-articles-card {
    flex: 0 0 calc((100% - var(--space-xl)) / 2);
  }
}

/* Desktop: 3 visible, scroll for the rest */
@media (width >= 900px) {
  main .related-articles {
    padding-inline: 0;
  }

  main .related-articles .related-articles-card {
    flex: 0 0 calc((100% - 2 * var(--space-xl)) / 3);
  }

  main .related-articles .related-articles-card-content {
    padding: var(--space-xl);
  }
}
